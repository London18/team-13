<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="js/security.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="js/home.js"></script>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link href="css/home.css" rel="stylesheet">

  <title>Homepage</title>
</head>
<body>
<nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
  <a class="navbar-brand col-sm-3 col-md-2 mr-0" style="color:white">
    <img src="https://www.juliashouse.org/bundles/giantpeachjuliashousetheme/images/home.svg" alt="" width="20px" height="64px">
  </a>
  <h2>Homepage</h2>
  <ul class="navbar-nav px-3">
    <li class="nav-item text-nowrap">
      <a class="nav-link" href="#" onclick="logout()">Sign out</a>
    </li>
  </ul>
</nav>
<h3>Today's Schedule</h3>
<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
    <tr style="background-color:#0087CC">
      <th>Family</th>
      <th>Start</th>
      <th>End</th>
      <th>Address</th>
      <th></th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <div id="schedule_entries">
      <tr id='1'>
        <td>Smith</td>
        <td>11:00</td>
        <td>12:00</td>
        <td>10 Road, Town, County, AB12 3CD</td>
        <td>Home</td>
        <td class="clickable" onclick="openComment(1)">Update Status</td>
      </tr>
      <tr id='2'>
        <td>Jones</td>
        <td>14:30</td>
        <td>15:30</td>
        <td>11 Road, Town, Country, AB12 3CD</td>
        <td>Home</td>
        <td class="clickable" onclick="openComment(2)">Update Status</td>

      </tr>
      <tr id='3'>
        <td>Williams</td>
        <td>22:00</td>
        <td>03:00</td>
        <td>12 Road, Town, Country, AB12 3CD</td>
        <td>Arrived</td>
        <td class="clickable" onclick="openComment(3)">Update Status</td>
      </tr>
    </div>
    </tbody>
  </table>
</div>
<h3>Recent Activity</h3>
<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
    <tr style="background-color:#0087CC">
      <th>Time</th>
      <th>Family</th>
      <th>Action</th>
      <th>Comment</th>
    </tr>
    </thead>
    <tbody>
    <div id="activity_entries">
      <tr>
        <td>10:54</td>
        <td>Smith</td>
        <td>Arrived</td>
        <td>Arrived 5 minutes early</td>
      </tr>
      <tr>
        <td>12:13</td>
        <td>Smith</td>
        <td>Left</td>
        <td>Session overran</td>
      </tr>
      <tr>
        <td>12:51</td>
        <td>Smith</td>
        <td>Home</td>
        <td></td>
      </tr>
      <tr>
        <td>14:49</td>
        <td>Jones</td>
        <td>Left</td>
        <td>Family were out</td>
      </tr>
      <tr>
        <td>21:50</td>
        <td>Williams</td>
        <td>Arrived</td>
        <td></td>
      </tr>
    </div>
    </tbody>
  </table>
</div>

<div id="grey_pop_up">
  <div id="comment_block">
    <h2 style="font-size:24pt;color:black;"> Status Update </h2>
    <form class="action">
      <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="font-size:16pt">Status</a>
      <div class="dropdown-menu" aria-labelledby="dropdown01" id="action">
        <a class="dropdown-item" href="#" onclick="dropdown('Arrived')">Arrived</a>
        <a class="dropdown-item" href="#" onclick="dropdown('Left')">Left</a>
        <a class="dropdown-item" href="#" onclick="dropdown('Home')">Home</a>
      </div>
      <input type = "hidden" id="form_sid" value = "">
      
      <div class="input-group" style="height:35vh;">
        <div class="input-group-prepend">
          <span class="input-group-text" style="height:35vh">Comment</span>
        </div>
        <textarea id = "comment" class="form-control" aria-label="With textarea" form="actions"></textarea>
      </div>
      <br>


      <!--<input style="width:100%;height:30vh;overflow:auto;" type = "text"
             id = "comment"
             value = "" /> -->
      <input class="btn btn-lg btn-primary btn-block" type="submit" style="background-color:#0087CC" onclick="refresh()"></input>
    </form>

  </div>





  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <script>
      var grey_block = document.getElementById('grey_pop_up');

      function openComment(sid) {
          document.getElementById("grey_pop_up").style.display="block";
          document.getElementById('form_sid').value = s(sid);
      }

      function dropdown(str) {
          document.getElementById("dropdown01").innerHTML = s(str);
      }

      window.onclick = function(event){
          if(event.target == grey_block) {
              grey_block.style.display = "none";
          }
      }

      function refresh(){
        window.location.reload();
      }

  </script>
</body>
</html>

<!-- basic template pulled from https://getbootstrap.com/docs/4.1/getting-started/introduction/ -->
